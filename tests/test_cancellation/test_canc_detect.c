#include <stdio.h>
#include <stdlib.h>
#include <math.h>
#include <unistd.h>

#define bit(A,i) ((A >> i) & 1)
#define min(a,b) ((a < b) ? a : b)
#define max(a,b) ((a > b) ? a : b)
#define bit_a_b(X,a,b) (((X << (sizeof(X)*8 - max(a,b) - 1)) >> (sizeof(X)*8 - max(a,b) - 1)) & ((X >> min(a,b) ) << min(a,b)))

typedef unsigned long long int u_64;
typedef unsigned int u_32;

static void print_double(double d)
{
  u_64 a = *((u_64*) &d);

  for(int i = 63; i >= 0; i--)
    (i == 63 || i == 52) ? printf("%lld ", bit(a,i)) : printf("%lld", bit(a,i));

  printf("\n");
}

static void print_float(float f)
{
  u_32 a = *((u_32*) &f);

  for(int i = 31; i >= 0; i--)
    (i == 31 || i == 23) ? printf("%d ", bit(a,i)) : printf("%d", bit(a,i));

  printf("\n");
}

void sort_d(float *restrict a, int n)
{
  for(int i = 0; i < n; i++)
    for(int j = i + 1; j < n; j++)
      if(a[j] < a[i])
      {
      float tmp = a[i];

      a[i] = a[j];
      a[j] = tmp;
      }
}

void sort_q(double *restrict a, int n)
{
  for(int i = 0; i < n; i++)
    for(int j = i + 1; j < n; j++)
      if(a[j] < a[i])
      {
      double tmp = a[i];

      a[i] = a[j];
      a[j] = tmp;
      }
}

static float f_tab[] = {
  0x1p+1,             //  0 10000000 00000000000000000000000  
  0x1.8p+1,           //  0 10000000 10000000000000000000000
  0x1.cp+1,           //  0 10000000 11000000000000000000000
  0x1.ep+1,           //  0 10000000 11100000000000000000000
  0x1.fp+1,           //  0 10000000 11110000000000000000000
  0x1.f8p+1,          //  0 10000000 11111000000000000000000
  0x1.fcp+1,          //  0 10000000 11111100000000000000000
  0x1.fep+1,          //  0 10000000 11111110000000000000000
  0x1.ffp+1,          //  0 10000000 11111111000000000000000
  0x1.ff8p+1,         //  0 10000000 11111111100000000000000
  0x1.ffcp+1,         //  0 10000000 11111111110000000000000
  0x1.ffep+1,         //  0 10000000 11111111111000000000000
  0x1.fffp+1,         //  0 10000000 11111111111100000000000
  0x1.fff8p+1,        //  0 10000000 11111111111110000000000
  0x1.fffcp+1,        //  0 10000000 11111111111111000000000
  0x1.fffep+1,        //  0 10000000 11111111111111100000000
  0x1.ffffp+1,        //  0 10000000 11111111111111110000000
  0x1.ffff8p+1,       //  0 10000000 11111111111111111000000
  0x1.ffffcp+1,       //  0 10000000 11111111111111111100000
  0x1.ffffep+1,       //  0 10000000 11111111111111111110000
  0x1.fffffp+1,       //  0 10000000 11111111111111111111000
  0x1.fffff8p+1,      //  0 10000000 11111111111111111111100
  0x1.fffffcp+1,      //  0 10000000 11111111111111111111110
  0x1.fffffep+1       //  0 10000000 11111111111111111111111
};

static double q_tab[] = {
  0x1p+1,                 //  0 10000000000 0000000000000000000000000000000000000000000000000000
  0x1.8p+1,               //  0 10000000000 1000000000000000000000000000000000000000000000000000
  0x1.cp+1,               //  0 10000000000 1100000000000000000000000000000000000000000000000000
  0x1.ep+1,               //  0 10000000000 1110000000000000000000000000000000000000000000000000
  0x1.fp+1,               //  0 10000000000 1111000000000000000000000000000000000000000000000000
  0x1.f8p+1,              //  0 10000000000 1111100000000000000000000000000000000000000000000000
  0x1.fcp+1,              //  0 10000000000 1111110000000000000000000000000000000000000000000000
  0x1.fep+1,              //  0 10000000000 1111111000000000000000000000000000000000000000000000
  0x1.ffp+1,              //  0 10000000000 1111111100000000000000000000000000000000000000000000
  0x1.ff8p+1,             //  0 10000000000 1111111110000000000000000000000000000000000000000000
  0x1.ffcp+1,             //  0 10000000000 1111111111000000000000000000000000000000000000000000
  0x1.ffep+1,             //  0 10000000000 1111111111100000000000000000000000000000000000000000
  0x1.fffp+1,             //  0 10000000000 1111111111110000000000000000000000000000000000000000
  0x1.fff8p+1,            //  0 10000000000 1111111111111000000000000000000000000000000000000000
  0x1.fffcp+1,            //  0 10000000000 1111111111111100000000000000000000000000000000000000
  0x1.fffep+1,            //  0 10000000000 1111111111111110000000000000000000000000000000000000
  0x1.ffffp+1,            //  0 10000000000 1111111111111111000000000000000000000000000000000000
  0x1.ffff8p+1,           //  0 10000000000 1111111111111111100000000000000000000000000000000000
  0x1.ffffcp+1,           //  0 10000000000 1111111111111111110000000000000000000000000000000000
  0x1.ffffep+1,           //  0 10000000000 1111111111111111111000000000000000000000000000000000
  0x1.fffffp+1,           //  0 10000000000 1111111111111111111100000000000000000000000000000000
  0x1.fffff8p+1,          //  0 10000000000 1111111111111111111110000000000000000000000000000000
  0x1.fffffcp+1,          //  0 10000000000 1111111111111111111111000000000000000000000000000000
  0x1.fffffep+1,          //  0 10000000000 1111111111111111111111100000000000000000000000000000
  0x1.ffffffp+1,          //  0 10000000000 1111111111111111111111110000000000000000000000000000
  0x1.ffffff8p+1,         //  0 10000000000 1111111111111111111111111000000000000000000000000000
  0x1.ffffffcp+1,         //  0 10000000000 1111111111111111111111111100000000000000000000000000
  0x1.ffffffep+1,         //  0 10000000000 1111111111111111111111111110000000000000000000000000
  0x1.fffffffp+1,         //  0 10000000000 1111111111111111111111111111000000000000000000000000
  0x1.fffffff8p+1,        //  0 10000000000 1111111111111111111111111111100000000000000000000000
  0x1.fffffffcp+1,        //  0 10000000000 1111111111111111111111111111110000000000000000000000
  0x1.fffffffep+1,        //  0 10000000000 1111111111111111111111111111111000000000000000000000
  0x1.ffffffffp+1,        //  0 10000000000 1111111111111111111111111111111100000000000000000000
  0x1.ffffffff8p+1,       //  0 10000000000 1111111111111111111111111111111110000000000000000000
  0x1.ffffffffcp+1,       //  0 10000000000 1111111111111111111111111111111111000000000000000000
  0x1.ffffffffep+1,       //  0 10000000000 1111111111111111111111111111111111100000000000000000
  0x1.fffffffffp+1,       //  0 10000000000 1111111111111111111111111111111111110000000000000000
  0x1.fffffffff8p+1,      //  0 10000000000 1111111111111111111111111111111111111000000000000000
  0x1.fffffffffcp+1,      //  0 10000000000 1111111111111111111111111111111111111100000000000000
  0x1.fffffffffep+1,      //  0 10000000000 1111111111111111111111111111111111111110000000000000
  0x1.ffffffffffp+1,      //  0 10000000000 1111111111111111111111111111111111111111000000000000
  0x1.ffffffffff8p+1,     //  0 10000000000 1111111111111111111111111111111111111111100000000000
  0x1.ffffffffffcp+1,     //  0 10000000000 1111111111111111111111111111111111111111110000000000
  0x1.ffffffffffep+1,     //  0 10000000000 1111111111111111111111111111111111111111111000000000
  0x1.fffffffffffp+1,     //  0 10000000000 1111111111111111111111111111111111111111111100000000
  0x1.fffffffffff8p+1,    //  0 10000000000 1111111111111111111111111111111111111111111110000000
  0x1.fffffffffffcp+1,    //  0 10000000000 1111111111111111111111111111111111111111111111000000
  0x1.fffffffffffep+1,    //  0 10000000000 1111111111111111111111111111111111111111111111100000
  0x1.ffffffffffffp+1,    //  0 10000000000 1111111111111111111111111111111111111111111111110000
  0x1.ffffffffffff8p+1,   //  0 10000000000 1111111111111111111111111111111111111111111111111000
  0x1.ffffffffffffcp+1,   //  0 10000000000 1111111111111111111111111111111111111111111111111100
  0x1.ffffffffffffep+1,   //  0 10000000000 1111111111111111111111111111111111111111111111111110
  0x1.fffffffffffffp+1    //  0 10000000000 1111111111111111111111111111111111111111111111111111
};

int main(int argc, char **argv)
{
  int j = 0, i = 0;

  #ifdef FLOAT
    for(j = 0; j < 23; j++){
      float a = f_tab[j+1], b = f_tab[j], res = pow(2,-j), c = 0.0, sum[1000] = {}; 
      char flag = 0;

      for(i = 0; i < 1000; i++){
        sum[i] = a-b;
        if(sum[i] != res)  
          flag = 1;
      }

      if(flag){
        sort_d(sum,1000);
        printf("%f ", (sum[500]+sum[501])/2);
      }
      else
        printf("X ");
    }
    printf("\n");
  #endif

  #ifdef DOUBLE
    for(j = 0; j < 52; j++){
      double a = q_tab[j+1], b = q_tab[j], res = pow(2,-j), c = 0.0, sum[1000] = {};
      char flag = 0;

      for(i = 0; i < 1000; i++){
        sum[i] = a-b;
        if(sum[i] != res)  
          flag = 1;
      }

      if(flag){
        sort_q(sum,1000);
        printf("%.10lf ", (sum[500]+sum[501])/2);
      }
      else
        printf("X ");
    }
    printf("\n");
  #endif

return 0;
}